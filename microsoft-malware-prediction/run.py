import subprocess

def get_git_revision_hash():
    return subprocess.check_output(['git', 'rev-parse', 'HEAD']).rstrip()
def get_git_revision_short_hash():
    return subprocess.check_output(['git', 'rev-parse', '--short', 'HEAD']).rstrip()
def do_git_commit(msg):
    subprocess.check_output(['git', 'commit', '-a', '-m', msg])
    return
def do_git_push():
    subprocess.check_output(['git', 'push'])
    return
def do_kaggle_submit(msg):
    subprocess.check_output(['kaggle', 'competitions', 'submit', 'microsoft-malware-prediction', '-f', 'results.csv', '-m', msg])

do_git_commit('latest')
do_git_push()
do_kaggle_submit(get_git_revision_hash())
